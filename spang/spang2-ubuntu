FROM ubuntu:20.04

RUN apt-get update \
 && DEBIAN_FRONTEND=noninteractive apt-get install -y wget git g++ \
 && rm -rf /var/lib/apt/lists/*
RUN wget https://deb.nodesource.com/setup_14.x -O - | bash -
RUN apt-get update \
 && DEBIAN_FRONTEND=noninteractive apt-get install -y nodejs \
 && rm -rf /var/lib/apt/lists/*

WORKDIR /opt
RUN git clone https://github.com/sparqling/spang
WORKDIR spang
RUN npm install && npm link

WORKDIR /work

CMD ["spang2"]
